# Sgemv- 矩阵乘以向量
这次讲到并行算法设计，什么叫并行算法设计。每个人的理解都不太一样，在GPU中，我的理解就是：设计block和thread的workload，说白了就是要搞清楚一个block负责哪部分的计算，一个thread要负责哪部分的计算。而设计的原则就是尽可能地减少访存，提高数据的复用概率，然后让所有的处理器都满负荷地进行工作，不能浪费。
## GEMV 矩阵*向量
维度：$(M*k) * (k*1)$
- $32<=K<64$：每一个block负责一行的计算，所以共有M个Block，每个Block分配32个thread，正好是一个warp用来处理一行的数据。每个线程首先单独计数，最后进行向下规约操作，计算一行的和。


- $K >= 64$ 设计思路：采用两个warp处理一行，每个block中有两个warp。规约操作每个 warp 之间没有直接的通信，不同warp的线程不会共享res变量。
最后把所有warp中laneID=0加到输出结果中。

